{% extends "ngo/dashboard/base_user.html" %}
{% load crispy_forms_tags %}
{% load i18n %}

{% block base_user %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-lg-8 col-md-10">
      <form method="POST" novalidate>
        {% csrf_token %}
        {{ form|crispy }}
      </form>
    </div>
  </div>
</div>

<!-- SweetAlert pour confirmation -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
document.querySelector("form").addEventListener("submit", function(e) {
    e.preventDefault();
    Swal.fire({
        title: "{% trans 'Confirmer votre demande ?' %}",
        text: "{% trans 'Voulez-vous vraiment soumettre cette demande de retrait ?' %}",
        icon: "warning",
        showCancelButton: true,
        confirmButtonText: "{% trans 'Oui, soumettre' %}",
        cancelButtonText: "{% trans 'Annuler' %}",
        confirmButtonColor: "#0d6efd",
        cancelButtonColor: "#6c757d",
    }).then((result) => {
        if (result.isConfirmed) {
            e.target.submit();
        }
    });
});
</script>
{% endblock base_user %}
