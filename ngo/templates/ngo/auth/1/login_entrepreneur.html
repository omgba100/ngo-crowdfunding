{% extends "base.html" %}
{% load i18n %}
{% load static crispy_forms_tags %}

{% block title %}{% trans "Connexion Entrepreneur" %}{% endblock %}

{% block content %}
<!-- SECTION PRINCIPALE -->
<section class="login-section d-flex align-items-center justify-content-center py-5"
         style="min-height: 100vh; background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));">

  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-5 col-md-7">

        <!-- CARTE PRINCIPALE -->
        <div class="card border-0 shadow-lg rounded-4 p-4" style="background-color: var(--bg-primary);">

          <!-- LOGO -->
          <div class="text-center mb-4">
            <img src="{% static 'assets/img/logo/FP.png' %}" alt="IGIA Logo"
                 class="img-fluid mb-2" style="max-height: 70px;">
            <h4 class="fw-bold" style="color: var(--text-title); letter-spacing: 0.5px;">
              {% trans "Espace Entrepreneur" %}
            </h4>
            <p class="text-muted small mb-0">{% trans "Connectez-vous à votre tableau de bord" %}</p>
          </div>

          <!-- FORMULAIRE -->
          <form method="post" novalidate enctype="multipart/form-data">
            {% csrf_token %}
            {% crispy form %}
          </form>

          <!-- LIENS ADDITIONNELS -->
          <div class="text-center mt-4">
            <a href="{% url 'password_reset' %}" class="text-decoration-none small fw-semibold"
               style="color: var(--bg-tertiary);">
               {% trans "Mot de passe oublié ?" %}
            </a>
            <hr class="my-3">
            <p class="small mb-0 text-muted">{% trans "Vous n'avez pas encore de compte ?" %}</p>
            <a href="{% url 'register_entrepreneur' %}" 
               class="btn w-100 mt-2 fw-semibold"
               style="
                 border: 2px solid var(--accent);
                 color: var(--bg-tertiary);
                 border-radius: 10px;
                 background-color: transparent;
                 transition: all 0.3s ease;
               ">
               {% trans "Créer un compte entrepreneur" %}
            </a>
          </div>

        </div> <!-- fin carte -->
      </div>
    </div>
  </div>

</section>

<!-- STYLES DÉDIÉS -->
<style>
  .login-section {
    position: relative;
    overflow: hidden;
  }

  /* Effets visuels flottants */
  .login-section::before,
  .login-section::after {
    content: "";
    position: absolute;
    background: rgba(255, 255, 255, 0.08);
    border-radius: 50%;
  }

  .login-section::before {
    top: -50px;
    left: -50px;
    width: 200px;
    height: 200px;
    animation: float1 6s infinite ease-in-out alternate;
  }

  .login-section::after {
    bottom: -60px;
    right: -60px;
    width: 250px;
    height: 250px;
    animation: float2 8s infinite ease-in-out alternate;
  }

  @keyframes float1 {
    from { transform: translateY(0); }
    to { transform: translateY(30px); }
  }

  @keyframes float2 {
    from { transform: translateY(0); }
    to { transform: translateY(-30px); }
  }

  /* Champs de formulaire */
  input.form-control {
    border-radius: 12px !important;
    border: 1px solid #ddd !important;
    transition: all 0.3s ease;
  }

  input.form-control:focus {
    border-color: var(--bg-secondary) !important;
    box-shadow: 0 0 0 0.25rem rgba(23, 71, 142, 0.25) !important;
  }

  /* Bouton principal (depuis le helper) */
  .btn-primary,
  button[type="submit"] {
    background-color: var(--bg-secondary) !important;
    border: none !important;
    border-radius: 10px !important;
    transition: all 0.3s ease !important;
  }

  .btn-primary:hover,
  button[type="submit"]:hover {
    background-color: var(--bg-tertiary) !important;
    transform: translateY(-2px);
  }

  /* Lien d’inscription */
  a.btn:hover {
    background-color: var(--accent);
    color: var(--text-title) !important;
  }

  /* Ombres subtiles */
  .card {
    transition: all 0.3s ease;
  }

  .card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  }
</style>
{% endblock %}
